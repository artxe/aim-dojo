/* eslint
no-restricted-imports: ["error", { "patterns": ["*"] }]
*/
export const {
	abs,
	acos,
	atan,
	cbrt,
	ceil,
	cos,
	// floor, | 0
	hypot,
	log2,
	max,
	min,
	PI,
	random,
	round,
	sin,
	sqrt,
	tan,
	tanh
} = Math
export const EPS = 1e-9
export const TAU = PI * 2
export const GL64_W = [
	0.0017832807216942,
	0.0041470332605629,
	0.0065044579689797,
	0.0088467598263644,
	0.0111681394601315,
	0.0134630478967182,
	0.0157260304760251,
	0.0179517157756973,
	0.0201348231535301,
	0.0222701738083830,
	0.0243527025687109,
	0.0263774697150546,
	0.0283396726142597,
	0.0302346570724025,
	0.0320579283548515,
	0.0338051618371418,
	0.0354722132568823,
	0.0370551285402402,
	0.0385501531786156,
	0.0399537411327203,
	0.0412625632426235,
	0.0424735151236536,
	0.0435837245293235,
	0.0445905581637565,
	0.0454916279274181,
	0.0462847965813144,
	0.0469681828162100,
	0.0475401657148303,
	0.0479993885964583,
	0.0483447622348030,
	0.0485754674415035,
	0.0486909570091398,
	0.0486909570091398,
	0.0485754674415035,
	0.0483447622348030,
	0.0479993885964583,
	0.0475401657148303,
	0.0469681828162100,
	0.0462847965813144,
	0.0454916279274181,
	0.0445905581637565,
	0.0435837245293235,
	0.0424735151236536,
	0.0412625632426235,
	0.0399537411327203,
	0.0385501531786156,
	0.0370551285402402,
	0.0354722132568823,
	0.0338051618371418,
	0.0320579283548515,
	0.0302346570724025,
	0.0283396726142597,
	0.0263774697150546,
	0.0243527025687109,
	0.0222701738083830,
	0.0201348231535301,
	0.0179517157756973,
	0.0157260304760251,
	0.0134630478967182,
	0.0111681394601315,
	0.0088467598263644,
	0.0065044579689797,
	0.0041470332605629,
	0.0017832807216942
]
export const GL64_X = [
	-0.9993050417357722,
	-0.9963401167719552,
	-0.9910133714767443,
	-0.9833362538846260,
	-0.9733268277899110,
	-0.9610087996520538,
	-0.9464113748584028,
	-0.9295691721319396,
	-0.9105221370785028,
	-0.8893154459951141,
	-0.8659993981540928,
	-0.8406292962525803,
	-0.8132653151227975,
	-0.7839723589433414,
	-0.7528199072605319,
	-0.7198818501716108,
	-0.6852363130542333,
	-0.6489654712546573,
	-0.6111553551723933,
	-0.5718956462026340,
	-0.5312794640198946,
	-0.4894031457070530,
	-0.4463660172534641,
	-0.4022701579639916,
	-0.3572201583376681,
	-0.3113228719902110,
	-0.2646871622087674,
	-0.2174236437400071,
	-0.1696444204239928,
	-0.1214628192961206,
	-0.0729931217877990,
	-0.0243502926634244,
	0.0243502926634244,
	0.0729931217877990,
	0.1214628192961206,
	0.1696444204239928,
	0.2174236437400071,
	0.2646871622087674,
	0.3113228719902110,
	0.3572201583376681,
	0.4022701579639916,
	0.4463660172534641,
	0.4894031457070530,
	0.5312794640198946,
	0.5718956462026340,
	0.6111553551723933,
	0.6489654712546573,
	0.6852363130542333,
	0.7198818501716108,
	0.7528199072605319,
	0.7839723589433414,
	0.8132653151227975,
	0.8406292962525803,
	0.8659993981540928,
	0.8893154459951141,
	0.9105221370785028,
	0.9295691721319396,
	0.9464113748584028,
	0.9610087996520538,
	0.9733268277899110,
	0.9833362538846260,
	0.9910133714767443,
	0.9963401167719552,
	0.9993050417357722
]
/**
 * @param {number} r
 * @param {number} [base]
 * @returns {number}
 */
export function calc_core_radius(r, base = r) {
	return max(r / 3, base / 2)
}
/**
 * @param {number} low
 * @param {number} value
 * @param {number} high
 * @returns {number}
 */
export function clamp(low, value, high) {
	return max(low, min(value, high))
}
/**
 * @param {number} x_deg
 * @param {number} span_x
 * @param {number} span_y
 * @returns {number}
 */
export function convert_deg_across_aspect(x_deg, span_x, span_y) {
	const x_rad = to_rad(x_deg)
	const y_rad = 2 * atan(
		tan(x_rad / 2) / span_x * span_y
	)
	return to_deg(y_rad)
}
/**
 * @param {number} yaw
 * @param {number} pitch
 * @returns {[ number, number, number ]}
 */
export function dir_from_yaw_pitch(yaw, pitch) {
	const cx = cos(yaw)
	const sx = sin(yaw)
	const cy = cos(pitch)
	const sy = sin(pitch)
	return [ sx * cy, sy, -cx * cy ]
}
/**
 * @param {[ number, number, number ]} a
 * @param {[ number, number, number ]} b
 * @returns {number}
 */
export function dot(a, b) {
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2]
}
/**
 * @param {number} a
 * @param {number} b
 * @param {number} t
 * @returns {number}
 */
export function lerp(a, b, t) {
	return a + (b - a) * t
}
/**
 * @param {number} rad
 * @returns {number}
 */
export function normalize_rad(rad) {
	return (rad % TAU + TAU) % TAU
}
/**
 * @param {number} n
 * @param {number} d
 * @returns {number}
 */
export function round_to(n, d) {
	return Number(n.toFixed(d))
}
/**
 * @param {number} rad
 * @returns {number}
 */
export function to_deg(rad) {
	return rad * 180 / PI
}
/**
 * @param {number} deg
 * @returns {number}
 */
export function to_rad(deg) {
	return deg * PI / 180
}